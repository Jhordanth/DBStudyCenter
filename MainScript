--SELECT * FROM fit_enterprise.INFORMATION_SCHEMA.SCHEMATA;

--GRANT SELECT ON SCHEMA :: AUTORIZACION TO dbo;

--SELECT CURRENT_USER

--SELECT * FROM INFORMATION_SCHEMA.TABLES 

--SELECT * FROM AUTORIZACION;

DROP TABLE IF EXISTS AUTORIZACION.USUARIOS_ROL_EMPRESA;
DROP TABLE IF EXISTS [GENERAL].EMPLEADOS;
DROP TABLE IF EXISTS [GENERAL].CARGOS_EMPRESA;
DROP TABLE IF EXISTS "GENERAL".EMPRESAS;
DROP TABLE IF EXISTS [GENERAL].CLASES_EMPRESA;
DROP TABLE IF EXISTS "GENERAL".CLASIFICACIONES_EMPRESA;
DROP TABLE IF EXISTS AUTORIZACION.USUARIOS;
DROP TABLE IF EXISTS "GENERAL".PAIS_INFO;
DROP TABLE IF EXISTS GENERAL.TIPOS_DOCUMENTO;
DROP TABLE IF EXISTS AUTORIZACION.ROLES_APLICACION;
DROP TABLE IF EXISTS "GENERAL".LOTES;
DROP TABLE IF EXISTS "GENERAL".ETIQUETAS_ELEMENTOS;
DROP TABLE IF EXISTS "GENERAL".ELEMENTOS;
DROP TABLE IF EXISTS "GENERAL".ETIQUETAS;
DROP TABLE IF EXISTS "GENERAL".INVENTARIOS;
DROP SCHEMA IF EXISTS AUTORIZACION;
DROP SCHEMA IF EXISTS "GENERAL";

CREATE SCHEMA AUTORIZACION;
CREATE SCHEMA "GENERAL";




GO

CREATE TABLE "GENERAL".PAIS_INFO(
    ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
    CODIGO VARCHAR(6) ,
    NOMBRE VARCHAR(60) UNIQUE,
    SIGLA VARCHAR(10) UNIQUE
);
GO

INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('93', 'Afganistán', 'AFG');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('355', 'Albania', 'ALB');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('213', 'Argelia', 'DZA');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('54', 'Argentina', 'ARG');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('61', 'Australia', 'AUS');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('43', 'Austria', 'AUT');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('32', 'Bélgica', 'BEL');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('55', 'Brasil', 'BRA');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('1', 'Canadá', 'CAN');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('56', 'Chile', 'CHL');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('57', 'Colombia', 'COL');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('86', 'China', 'CHN');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('53', 'Cuba', 'CUB');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('45', 'Dinamarca', 'DNK');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('20', 'Egipto', 'EGY');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('503', 'El Salvador', 'SLV');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('34', 'España', 'ESP');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('1', 'Estados Unidos', 'USA');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('33', 'Francia', 'FRA');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('49', 'Alemania', 'DEU');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('30', 'Grecia', 'GRC');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('91', 'India', 'IND');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('62', 'Indonesia', 'IDN');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('353', 'Irlanda', 'IRL');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('972', 'Israel', 'ISR');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('39', 'Italia', 'ITA');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('81', 'Japón', 'JPN');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('52', 'México', 'MEX');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('64', 'Nueva Zelanda', 'NZL');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('51', 'Perú', 'PER');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('63', 'Filipinas', 'PHL');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('48', 'Polonia', 'POL');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('351', 'Portugal', 'PRT');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('7', 'Rusia', 'RUS');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('65', 'Singapur', 'SGP');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('27', 'Sudáfrica', 'ZAF');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('82', 'Corea del Sur', 'KOR');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('46', 'Suecia', 'SWE');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('41', 'Suiza', 'CHE');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('66', 'Tailandia', 'THA');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('90', 'Turquía', 'TUR');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('44', 'Reino Unido', 'GBR');
INSERT INTO "GENERAL".PAIS_INFO (CODIGO, NOMBRE, SIGLA) VALUES ('58', 'Venezuela', 'VEN');


CREATE TABLE AUTORIZACION.ROLES_APLICACION(
    ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
    NOMBRE_ROL VARCHAR(60) UNIQUE
);
GO
INSERT INTO AUTORIZACION.ROLES_APLICACION (NOMBRE_ROL) VALUES ('Administrador total');
INSERT INTO AUTORIZACION.ROLES_APLICACION (NOMBRE_ROL) VALUES ('Administrador de personal');
INSERT INTO AUTORIZACION.ROLES_APLICACION (NOMBRE_ROL) VALUES ('Administrador de inventario');

CREATE TABLE AUTORIZACION.USUARIOS (
    ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
    NOMBRES VARCHAR(60) NOT NULL,
    APELLIDOS VARCHAR(60) NOT NULL,
    CONTRASEGNIA VARCHAR(255) NOT NULL,
    CORREO_ELECTRONICO VARCHAR(30) NOT NULL UNIQUE,
    NUMERO_TELEFONICO VARCHAR(50) NOT NULL UNIQUE,
    ID_PAIS INT NOT NULL,
    ROLE VARCHAR(30) NOT NULL,
    FOREIGN KEY (ID_PAIS) REFERENCES "GENERAL".PAIS_INFO(ID)
);
GO


CREATE TABLE [GENERAL].CLASIFICACIONES_EMPRESA (
	ID int IDENTITY(1,1) NOT NULL,
	NOMBRE varchar(60) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	DESCRIPCION varchar(500) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CONSTRAINT PK_CLASIFIC_3214EC27076EF75C PRIMARY KEY (ID)
);
GO

INSERT INTO "GENERAL".CLASIFICACIONES_EMPRESA (NOMBRE, DESCRIPCION) VALUES ('Sociedad mercantil', 'La Sociedad Comercial es una asociación de personas naturales o jurídicas dedicadas a una actividad comercial de la que se persigue un lucro o ganancia que se reparte entre los participantes o socios, de acuerdo a la proporción de sus aportes y a la naturaleza de la Sociedad');
INSERT INTO "GENERAL".CLASIFICACIONES_EMPRESA (NOMBRE, DESCRIPCION) VALUES ('Sector mercantil', null);
INSERT INTO "GENERAL".CLASIFICACIONES_EMPRESA (NOMBRE, DESCRIPCION) VALUES ('Tamagnio', null);

CREATE TABLE [GENERAL].CLASES_EMPRESA (
	ID int IDENTITY(1,1) NOT NULL,
	ID_CLASIFICACION int NOT NULL,
	NOMBRE varchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	DESCRIPCION varchar(500) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CONSTRAINT PK_CLASES_E_3214EC27F28B31A3 PRIMARY KEY (ID),
	FOREIGN KEY (ID_CLASIFICACION) REFERENCES "GENERAL".CLASIFICACIONES_EMPRESA(ID)
);


INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Sociedad mercantil'),
'Sociedad anónima',
'Mínimo 5 accionistas con responsabilidad limitada según su aporte. el capital aportado se reprensenta en acciones'
);
INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Sociedad mercantil'),
'Sociedad en comandita por acciones',
'Minimo 5 accionistas y 1 socio gestor o colectivo. En esta sociedad hay socios gestores con responsabilidad solidaria e ilimitada y socios comanditarios con responsabilidad limitada según el dinero aportado, que se representa en acciones.'
);
INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Sociedad mercantil'),
'Sociedad por acciones simplificada',
'Mínimo 1 o maás socios con responsabilidad limitada hasta el monto aportado. las acciones no pueden inscribirse en el Registro Nacional de Valores y Emisores ni ser negociadas en la bolsa.'
);
INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Sociedad mercantil'),
'Sociedad de economía mixta',
'Son de economía mixta las sociedades comerciales que se constituyen con aportes estatales y de capital privado, que desarrollan actividades de naturaleza industrial o comercial. Las sociedades de economía mixta se sujetan a las reglas del derecho privado y a la jurisdicción ordinaria, salvo salvo disposición legal en contrario.'
);
INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Sociedad mercantil'),
'Sociedad colectiva',
'Mínimo 2, todos responden solidaria e ilimitadamente por las operaciones de la empresa.'
);
INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Sociedad mercantil'),
'Sociedad en comandita simple',
'Hay dos clases de socios, los comanditarios y los colectivos. Los primeros tienen una responsabilidad limitada según su aporte de dinero, los colectivos tienen responsabilidad limitada y aportan trabajo o capital industrial. Deben contar al menos con un socio gestor y no más de 25 socios comanditarios.'
);
INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Sociedad mercantil'),
'Sociedad de responsabilidad limitada',
'Mínimo 2 y hasta 25 socios, los cuales responden hasta el monto de sus aportes, con la excepción de que frente a obligaciones laborales o tributarias los socios responden de manera solidaria.'
);
INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Sociedad mercantil'),
'Empresa unipersonal',
'Se compone solo por una persona natural o jurídica y la responsabilidad se limita al valor de los bienes que aporta a la sociedad.'
);
INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Sector mercantil'),
'Agricultura, ganadería, caza, silvicultura y pesca',
NULL 
);
INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Sector mercantil'),
'Explotación de minas y canteras',
NULL 
);
INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Sector mercantil'),
'Industrias manufactureras',
NULL 
);

INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Sector mercantil'),
'Suministro de electricidad, gas, agua y gestión de desechos',
NULL 
);

INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Sector mercantil'),
'Construcción',
NULL 
);

INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Sector mercantil'),
'Comercio y reparación de vehículos',
NULL 
);

INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Sector mercantil'),
'Transporte y almacenamiento',
NULL 
);

INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Sector mercantil'),
'Alojamiento y servicios de comida',
NULL 
);

INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Sector mercantil'),
'Información y comunicaciones',
NULL 
);

INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Sector mercantil'),
'Actividades financieras y de seguros',
NULL 
);

INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Sector mercantil'),
'Actividades inmobiliarias ',
NULL 
);

INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Sector mercantil'),
'Actividades profesionales, científicas, técnicas y servicios administrativos ',
NULL 
);

INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Sector mercantil'),
'Administración pública y defensa, educación y atención de la salud humana',
NULL 
);

INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Sector mercantil'),
'Actividades artísticas, entretenimiento, recreación y otras actividades de servicios',
NULL 
);

INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Tamagnio'),
'Microempresas',
NULL 
);
INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Tamagnio'),
'Pequeñas empresas',
NULL 
);
INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Tamagnio'),
'Medianas empresas',
NULL 
);
INSERT INTO "GENERAL".CLASES_EMPRESA (ID_CLASIFICACION, NOMBRE, DESCRIPCION) VALUES (
(SELECT ce.ID FROM "GENERAL".CLASIFICACIONES_EMPRESA ce WHERE ce.NOMBRE LIKE 'Tamagnio'),
'Grandes empresas',
NULL 
);




CREATE TABLE "GENERAL".EMPRESAS(
	ID	INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	NOMBRE VARCHAR(60) NOT NULL,
	RAZON_SOCIAL VARCHAR(60),
	ID_USUARIO_CREACION INT NOT NULL,
	FECHA_FUNDACION DATE,
	FECHA_REGISTRO DATE NOT NULL,
	FECHA_FIN_REGISTRO DATE,
	TELEFONO VARCHAR(50) NOT NULL,
	DIRECCION_SEDE_PRINCIPAL VARCHAR(60),
	CORREO VARCHAR(30) NOT NULL,
	SITIO_WEB VARCHAR(60),
	ICONO VARCHAR(20),
	ID_TAMAGNIO int,
	ID_TIPO_SOCIEDAD_MERCANTIL int,
	ID_SECTOR_ECONOMICO int,
	FOREIGN KEY (ID_USUARIO_CREACION) REFERENCES AUTORIZACION.USUARIOS(ID),
	FOREIGN KEY (ID_TAMAGNIO) REFERENCES "GENERAL".CLASES_EMPRESA(ID),
    FOREIGN KEY (ID_TIPO_SOCIEDAD_MERCANTIL) REFERENCES "GENERAL".CLASES_EMPRESA(ID),
    FOREIGN KEY (ID_SECTOR_ECONOMICO) REFERENCES "GENERAL".CLASES_EMPRESA(ID)
);
GO

CREATE TABLE AUTORIZACION.USUARIOS_ROL_EMPRESA (
    ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
    ID_USUARIO INT NOT NULL,
    ID_ROL INT NOT NULL,
    ID_EMPRESA INT NOT NULL,
    ID_USUARIO_CREACION INT NOT NULL,
    FECHA_REGISTRO DATE NOT NULL,
    FECHA_FIN_REGISTRO DATE,
    FOREIGN KEY (ID_USUARIO) REFERENCES AUTORIZACION.USUARIOS(ID),
    FOREIGN KEY (ID_USUARIO_CREACION) REFERENCES AUTORIZACION.USUARIOS(ID),
    FOREIGN KEY (ID_ROL) REFERENCES AUTORIZACION.ROLES_APLICACION(ID),
    FOREIGN KEY (ID_EMPRESA) REFERENCES "GENERAL".EMPRESAS(ID)
);
GO

CREATE TABLE [GENERAL].CARGOS_EMPRESA (
	ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
    NOMBRE VARCHAR(60) NOT NULL,
    FECHA_CREACION_REGISTRO DATE,
    FECHA_FINALIZACION_REGISTRO DATE,
    USUARIO_CREACION_REGISTRO INT,
    DESCRIPCION VARCHAR(200),
    ID_EMPRESA INT,
    FOREIGN KEY (USUARIO_CREACION_REGISTRO) REFERENCES AUTORIZACION.USUARIOS(ID),
    FOREIGN KEY (ID_EMPRESA) REFERENCES "GENERAL".EMPRESAS(ID)
);
GO

CREATE TABLE [GENERAL].TIPOS_DOCUMENTO (
	ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
    NOMBRE VARCHAR(60) NOT NULL,
    SIGLA VARCHAR(20),
    DESCRIPCION VARCHAR(500),
    TIPO_DOCUMENTO VARCHAR (60)
)

INSERT INTO [GENERAL].TIPOS_DOCUMENTO (NOMBRE, SIGLA, DESCRIPCION, TIPO_DOCUMENTO)
VALUES 
('Contrato a Término Fijo', 'CTF', 'Contrato por un período de tiempo específico, que se debe establecer en el momento de la firma.', 'CONTRATO'),
('Contrato a Término Indefinido', 'CTI', 'Contrato que no tiene una fecha de finalización y se mantiene vigente mientras no sea terminado por alguna de las partes.', 'CONTRATO'),
('Contrato por Obra o Labor', 'COL', 'Contrato que se firma para la realización de una obra o labor específica. Finaliza cuando dicha obra o labor termina.', 'CONTRATO'),
('Contrato de Aprendizaje', 'CA', 'Contrato especial que se firma entre un empleador y un aprendiz que se encuentra en una etapa de formación.', 'CONTRATO'),
('Contrato de Trabajo Temporal', 'CTT', 'Contrato que se firma para la prestación de servicios durante un período limitado, normalmente a través de una empresa temporal.', 'CONTRATO'),
('Contrato de Prestación de Servicios', 'OPS', 'Contrato civil o comercial en el cual una persona natural o jurídica se obliga a prestar un servicio de manera independiente sin que haya subordinación.', 'CONTRATO'),
('Contrato a Medio Tiempo', 'CMT', 'Contrato laboral que establece que el trabajador dedicará menos de la jornada completa, con los beneficios proporcionales.', 'CONTRATO'),
('Contrato de Trabajo Remoto', 'CTR', 'Contrato en el que el trabajador presta sus servicios de forma remota, fuera de las instalaciones del empleador.', 'CONTRATO'),
('Contrato de Trabajo por Horas', 'CTH', 'Contrato en el que se establece que el trabajador prestará sus servicios por un número determinado de horas, generalmente en casos específicos.', 'CONTRATO'),
('Contrato de Pasantía', 'CP', 'Contrato firmado con estudiantes que buscan una primera experiencia laboral y no tiene relación directa con una vinculación laboral.', 'CONTRATO'),
('Contrato Ocasional o Transitorio', 'COT', 'Contrato temporal para satisfacer necesidades ocasionales, accidentales o transitorias del empleador. Su duración no puede exceder un mes.', 'CONTRATO'),
('Cédula de Ciudadanía', 'CC', 'Documento de identidad para ciudadanos colombianos mayores de 18 años', 'IDENTIFICACION'),
('Tarjeta de Identidad', 'TI', 'Documento de identidad para colombianos menores de 18 años', 'IDENTIFICACION'),
('Registro Civil de Nacimiento', 'RC', 'Documento que acredita el nacimiento de una persona en Colombia', 'IDENTIFICACION'),
('Cédula de Extranjería', 'CE', 'Documento de identificación para extranjeros residentes en Colombia', 'IDENTIFICACION'),
('Pasaporte', 'P', 'Documento de viaje internacional emitido por el estado colombiano', 'IDENTIFICACION'),
('Permiso Especial de Permanencia', 'PEP', 'Documento de identidad temporal para extranjeros en situación regular en Colombia', 'IDENTIFICACION'),
('Documento de Identificación de Migrantes Venezolanos (DIM)', 'DIM', 'Documento para migrantes venezolanos bajo el Estatuto Temporal de Protección', 'IDENTIFICACION'),
('Número de Identificación Tributaria (NIT)', 'NIT', 'Documento para la identificación fiscal de personas naturales o jurídicas', 'IDENTIFICACION');




CREATE TABLE GENERAL.EMPLEADOS (
	ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
    NOMBRES VARCHAR(60) NOT NULL,
    APELLIDOS VARCHAR(60),
    ID_TIPO_DOCUMENTO_IDENTIFACION INT,
    NRO_ID VARCHAR(20),
    IDENTIFICADOR_EMPRESA VARCHAR(20) UNIQUE,
    TELEFONO_LABORAL VARCHAR(50),
    CORREO_ELECTRONICO_LABORAL VARCHAR(30),
    DIRECCION_VIVIENDA VARCHAR(30),
    ID_CARGO INT,
    ID_EMPRESA INT NOT NULL,
    SALARIO NUMERIC(15,2),
    HORAS_SEMANALES INT,
    ID_TIPO_CONTRATO INT,
    NOTAS VARCHAR(500),
    FECHA_CONTRATACION DATE,
    FECHA_FINALIZACION_CONTRATACION DATE,
    MOTIVO_FINALIZACION_CONTRATACION VARCHAR(500),
    FECHA_CREACION_REGISTRO DATE NOT NULL,
    FECHA_FINALIZACION_REGISTRO DATE,
    ID_SUPERVISOR INT,
    FOREIGN KEY (ID_CARGO) REFERENCES [GENERAL].CARGOS_EMPRESA(ID),
    FOREIGN KEY (ID_TIPO_CONTRATO) REFERENCES [GENERAL].TIPOS_DOCUMENTO(ID),
    FOREIGN KEY (ID_SUPERVISOR) REFERENCES [GENERAL].EMPLEADOS(ID),
    FOREIGN KEY (ID_EMPRESA) REFERENCES [GENERAL].EMPRESAS(ID)
);
GO



CREATE TABLE GENERAL.INVENTARIOS (

	ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	NOMBRE VARCHAR(60) NOT NULL,
	ID_EMPRESA INT NOT NULL,
	DIRECCION_FISICA VARCHAR(30),
	FECHA_CREACION_REGISTRO DATE NOT NULL,
    FECHA_FINALIZACION_REGISTRO DATE,
	FOREIGN KEY (ID_EMPRESA) REFERENCES [GENERAL].EMPRESAS(ID)
);

CREATE TABLE GENERAL.ETIQUETAS (

	ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	NOMBRE VARCHAR(60) NOT NULL,
	DESCRIPCION VARCHAR(200),
	ID_EMPRESA INT NOT NULL,
	FECHA_CREACION_REGISTRO DATE NOT NULL,
    FECHA_FINALIZACION_REGISTRO DATE,
	FOREIGN KEY (ID_EMPRESA) REFERENCES [GENERAL].EMPRESAS(ID)
);

CREATE TABLE GENERAL.ELEMENTOS (

	ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	NOMBRE VARCHAR(60) NOT NULL,
	CODIGO VARCHAR(60),
	DESCRIPCION VARCHAR(200),
	ID_EMPRESA INT NOT NULL,
	FECHA_CREACION_REGISTRO DATE NOT NULL,
    FECHA_FINALIZACION_REGISTRO DATE,
	FOREIGN KEY (ID_EMPRESA) REFERENCES [GENERAL].EMPRESAS(ID)
);


CREATE TABLE GENERAL.ETIQUETAS_ELEMENTOS (

	ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	ID_ELEMENTO INT NOT NULL,
	ID_ETIQUETA INT NOT NULL,
	FOREIGN KEY (ID_ELEMENTO) REFERENCES [GENERAL].ELEMENTOS(ID),
	FOREIGN KEY (ID_ETIQUETA) REFERENCES [GENERAL].ETIQUETAS(ID)
);

CREATE TABLE GENERAL.LOTES (

	ID INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
	LOTE VARCHAR(60),
	ID_ELEMENTO INT NOT NULL,
	EXISTENCIAS INT NOT NULL,
	ID_INVENTARIO INT NOT NULL,
	VALOR_UNITARIO INT NOT NULL,
	FECHA_CREACION_REGISTRO DATE NOT NULL,
    FECHA_FINALIZACION_REGISTRO DATE,
	FOREIGN KEY (ID_ELEMENTO) REFERENCES [GENERAL].ELEMENTOS(ID),
	FOREIGN KEY (ID_INVENTARIO) REFERENCES [GENERAL].INVENTARIOS(ID)
);






















































